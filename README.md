# 📈 시계열 차트 그리기

## 👏🏻 About
- 원티드 4주차 기업 과제 (개인)
- 라이브러리를 사용하지 않고, 과제를 수행하였습니다.

## 🔗 배포
https://timeserieschart.vercel.app/

## 🛫 Start the Project
```
git clone https://github.com/ramrami-B/clinicaltrialskoreasearch.git
cd clinicaltrialskoreasearch
npm install
npm rum start
```

⚠️ 애플리케이션을 시작하기 위해서 `node v18`이 필요합니다.

## ⚒️ Teck Stack
- core: `typescript`
- framework: `Next.js`
- style: `styled-jsx`
- 배포: `Vercel`
- react-router-dom v6.xx
- node v18.xx

## 💡 요구사항
### 1. 시계열 차트 만들기
- [x] 주어진 JSON 데이터의 `key`값(시간)을 기반으로 시계열 차트를 만들어주세요
- [x] 하나의 차트안에 Area 형태의 그래프와 Bar 형태의 그래프가 모두 존재하는 복합 그래프로 만들어주세요
- [x] Area 그래프의 기준값은 `value_area` 값을 이용해주세요
- [x] Bar 그래프의 기준값은 `value_bar` 값을 이용해주세요
- [x] 차트의 Y축에 대략적인 수치를 표현해주세요(예시 이미지 참고)

### 3. 호버 기능 구현
- [x] 특정 데이터 구역에 마우스 호버시 `id, value_area, value_bar` 데이터를 툴팁 형태로 제공해주세요

### 4. 필터링 기능 구현
- [x] 필터링 기능을 구현해주세요, 필터링은 특정 데이터 구역을 하이라이트 하는 방식으로 구현해주세요
- [x] 필터링 기능은 버튼 형태로 ID값(지역이름)을 이용해주세요
- [x] 필터링 시 버튼에서 선택한 ID값과 동일한 ID값을 가진 데이터 구역만 하이라이트 처리를 해주세요
- [x] 특정 데이터 구역을 클릭 시에도 필터링 기능과 동일한 형태로 동일한 ID값을 가진 데이터 구역을 하이라이트해주세요

## 💭 주절 주절
### 라이브러리를 사용하지 않고 svg로 직접 그린 이유:
  팀원들의 이야기를 들어보니 라이브러리 사용하면 1시간 컷으로 끝낼 수 있는 과제인듯 했다. 그래서 호기롭게 svg로 한번 그려보자! 하고 시작했다.
  또, 작년 여름 인턴으로 근무 했을 때 동료가 차트 그리기를 맡았었는데 라이브러리를 사용하지 말라고 해서 고생하는 것을 본 적 있다.
  나라고 그럴 일이 없겠는가? 이번 기회에 해봐야겠다고 생각했다.

### 차트 라이브러리 vs 직접 그리기
  React에는 다양한 차트 라이브러리가 있다. [참고](https://velog.io/@fgh1937/Jong-JavaScript-Best-Chart-Libraries#6-d3js)
  라이브러리를 사용해보지는 않았지만 직접 그려본 결과 세상에 라이브러리가 왜 존재하는지 알게 되었다..
  물론 직접 그리는 것이 커스터 마이징이 쉬울 수 있지만 그 커스터마이징을 내가 손수 해야한다는 단점이 있다,,
  나의 경우 마음에 안들었던 것은 툴팁인데 svg로 차트를 그렸기 때문에 svg 태그 안에 들어가는 title로 툴팁을 띄웠다. 그런데 그게 정말 안예쁘다😮‍💨
  (물론 더 예쁘게 하려면 할 수는 있었겠지만..)
  또, y축에 값을 입력하는 것도 고생했다. 데이터를 불러오고 value만큼 bar와 area의 넓이, 높이를 계산해서 그리는 것은 누워서 떡 먹기라고 생각할 정도였다.
  svg로 그렸더니 좋은 점은 반응형이 가능하다는 것이었다. 다른 요소들(글씨 크기 등)을 반응형 처리를 안해줘서 좀 어색하겠지만 배포 링크를 들어가보면 반응형 UI로 구현된 것을 볼 수 있다. 
  다른 차트 라이브러리를 사용한 프로젝트를 몇 개 봤는데 모바일 등에서는 차트가 깨지는 것을 봤다. (또는 스크롤로 잘 처리해 두신 분도 있었다!)
  어쨌든 이번 과제는 거의 차트 직접 그려봤다는 것에 의의를 둬야할 것 같다😅 (아쉬운 점 너무 많음)

### 아쉬운 점
  svg로 차트를 하나 하나 그리느라 시간을 너무 많이 써서 (이렇게 오래 걸릴줄은..) 리팩토링을 제대로 못했다. 그래서 사실 코드가 마음에 안든다,,
  나의 역량 부족(시간 관리 못함)이지만 아쉽다 ㅠㅠ 과제엔 반영이 안되겠지만 추후에 리팩토링을 할 예정이다.
  그리고 이번에 Next를 사용해서 useState가 아닌 라우팅으로 필터를 구현하고 싶었는데 하지 못했다. ~싱글페이지인데 Next는 왜 쓴거야?~ Next 공부한지 얼마 안되었으니 연습한 셈 치기로 했다.
  또 시간이 없어서 CI/CD 세팅을 못했다. Vercel로도 github actions 사용해보고 싶었는데 아숩 ^,^;
